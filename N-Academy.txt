Frontend (Web):
- Next.js (Admin + Teacher panels)

Mobile App:
- Flutter (Students)

Backend:
- Node.js + Express

Database:
- MongoDB Atlas

Cache:
- Redis

Storage:
- AWS S3 + CloudFront



===============================================================================================================



ğŸŒ FRONTEND (WEB) â€” Next.js (Admin + Teacher)

Framework: Next.js (App Router) + TypeScript
Auth: JWT + Role-based guards
UI: Tailwind + shadcn/ui
ğŸ“ web/ (Next.js)
web/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ forgot-password/
â”‚   â”‚   â””â”€â”€ reset-password/
â”‚   â”‚
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ teachers/
â”‚   â”‚   â”œâ”€â”€ students/
â”‚   â”‚   â”œâ”€â”€ courses/
â”‚   â”‚   â”œâ”€â”€ payments/
â”‚   â”‚   â”œâ”€â”€ analytics/
â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚
â”‚   â”œâ”€â”€ teacher/
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ courses/
â”‚   â”‚   â”œâ”€â”€ live-classes/
â”‚   â”‚   â”œâ”€â”€ recordings/
â”‚   â”‚   â””â”€â”€ earnings/
â”‚   â”‚
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ auth/
â”‚   â”‚       â””â”€â”€ refresh/route.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ globals.css
â”‚   â””â”€â”€ page.tsx
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                # shadcn
â”‚   â”œâ”€â”€ layout/
â”‚   â”œâ”€â”€ tables/
â”‚   â”œâ”€â”€ charts/
â”‚   â””â”€â”€ modals/
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api.ts             # axios instance
â”‚   â”œâ”€â”€ auth.ts
â”‚   â”œâ”€â”€ permissions.ts
â”‚   â””â”€â”€ constants.ts
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”œâ”€â”€ useRole.ts
â”‚   â””â”€â”€ useSocket.ts
â”‚
â”œâ”€â”€ middleware.ts          # role guard
â”œâ”€â”€ public/
â”œâ”€â”€ types/
â”œâ”€â”€ next.config.js
â””â”€â”€ tsconfig.json
ğŸ” Web Auth Strategy
Access token â†’ HTTP-only cookie
Refresh token â†’ Next API route
Role-based route protection in middleware.ts



===============================================================================================================

âš™ï¸ BACKEND â€” Node.js + Express (JavaScript)

ğŸ”¥ THIS IS THE MAIN CHANGE

ğŸ¯ Design Goals

Simple to understand

Easy to debug

Nest-like modularity

Scales horizontally

Easy future migration

ğŸ“ backend/ (Express + JS)
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app.js                 # Express app config
â”‚   â”œâ”€â”€ server.js              # Server bootstrap
â”‚
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ env.js
â”‚   â”‚   â”œâ”€â”€ db.js              # MongoDB connection
â”‚   â”‚   â”œâ”€â”€ redis.js
â”‚   â”‚   â””â”€â”€ aws.js
â”‚
â”‚   â”œâ”€â”€ modules/
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.controller.js
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.service.js
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.routes.js
â”‚   â”‚   â”‚   â””â”€â”€ auth.middleware.js
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”‚   â”œâ”€â”€ user.model.js
â”‚   â”‚   â”‚   â”œâ”€â”€ users.controller.js
â”‚   â”‚   â”‚   â”œâ”€â”€ users.service.js
â”‚   â”‚   â”‚   â””â”€â”€ users.routes.js
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ devices/
â”‚   â”‚   â”‚   â”œâ”€â”€ device.model.js
â”‚   â”‚   â”‚   â””â”€â”€ devices.service.js
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ courses/
â”‚   â”‚   â”‚   â”œâ”€â”€ course.model.js
â”‚   â”‚   â”‚   â”œâ”€â”€ courses.controller.js
â”‚   â”‚   â”‚   â”œâ”€â”€ courses.service.js
â”‚   â”‚   â”‚   â””â”€â”€ courses.routes.js
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ purchases/
â”‚   â”‚   â”‚   â”œâ”€â”€ purchase.model.js
â”‚   â”‚   â”‚   â””â”€â”€ purchases.service.js
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ payments/
â”‚   â”‚   â”‚   â”œâ”€â”€ razorpay.service.js
â”‚   â”‚   â”‚   â”œâ”€â”€ payments.controller.js
â”‚   â”‚   â”‚   â””â”€â”€ webhook.routes.js
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ live/
â”‚   â”‚   â”‚   â”œâ”€â”€ live.socket.js
â”‚   â”‚   â”‚   â””â”€â”€ live.service.js
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ storage/
â”‚   â”‚   â”‚   â”œâ”€â”€ s3.service.js
â”‚   â”‚   â”‚   â””â”€â”€ cloudfront.util.js
â”‚   â”‚
â”‚   â”œâ”€â”€ middlewares/
â”‚   â”‚   â”œâ”€â”€ auth.middleware.js
â”‚   â”‚   â”œâ”€â”€ role.middleware.js
â”‚   â”‚   â”œâ”€â”€ rateLimit.middleware.js
â”‚   â”‚   â””â”€â”€ error.middleware.js
â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ jwt.js
â”‚   â”‚   â”œâ”€â”€ hash.js
â”‚   â”‚   â””â”€â”€ response.js
â”‚
â”‚   â”œâ”€â”€ routes.js              # Central route loader
â”‚
â”œâ”€â”€ .env
â”œâ”€â”€ package.json
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md

ğŸ” Backend Security (UNCHANGED LOGIC)

âœ” JWT + Refresh Tokens
âœ” One-user-one-device enforcement
âœ” Redis-backed sessions
âœ” Rate limiting
âœ” IP throttling
âœ” Signed S3 URLs (5â€“10 min)
âœ” Webhook verification

Express does NOT reduce security if structured properly.



===============================================================================================================




ğŸ“± MOBILE APP â€” Flutter (Students)

State Mgmt: Riverpod / Bloc
Video: Custom HLS Player
Security: Screen block + device lock

ğŸ“ mobile/ (Flutter)

N-Academy/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ constants/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ theme/
â”‚   â”‚   â””â”€â”€ utils/
â”‚
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â””â”€â”€ auth_provider.dart
â”‚
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”œâ”€â”€ my_courses/
â”‚   â”‚   â”œâ”€â”€ live_classes/
â”‚   â”‚   â””â”€â”€ profile/
â”‚
â”‚   â”œâ”€â”€ course/
â”‚   â”‚   â”œâ”€â”€ course_details/
â”‚   â”‚   â”œâ”€â”€ video_player/
â”‚   â”‚   â””â”€â”€ notes/
â”‚
â”‚   â”œâ”€â”€ payments/
â”‚   â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ providers/
â”‚   â””â”€â”€ main.dart
â”‚
â”œâ”€â”€ android/
â”œâ”€â”€ ios/
â”œâ”€â”€ pubspec.yaml
â””â”€â”€ analysis_options.yaml
ğŸš« Flutter Security
FLAG_SECURE (Android)
iOS screen capture detection
App pauses video if detected
Device ID sent on login

ğŸ”„ API FLOW (Simple Overview)
Flutter App / Next.js Web
        â†“
Node.js + Express API
        â†“
MongoDB Atlas (data)
        â†“
Redis (sessions, devices)
        â†“
AWS S3 + CloudFront (media)

























